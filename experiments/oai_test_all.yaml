INPUT_PATHS:
  DATASET_NAME: oai_nolandmarks
  PARTITION: /experiments/datasets-in-use/multimodal_datasets/oai/partition_0.7_0.15_0.15_0.00000.json
  IMAGES: /experiments/datasets-in-use/xray-longlegs-land/Package_1216539/results/12m-complete-unzip
  LABELS_NUMBERS: [/experiments/datasets-in-use/xray-longlegs-land/Knee X-Ray Image Assessments/Alignment_SAS/FLXR_KneeAlign_Duryea01.txt,
            /experiments/datasets-in-use/xray-longlegs-land/Knee X-Ray Image Assessments/Alignment_SAS/flxr_kneealign_cooke01.txt]
    ## Each row in the excel is an image and there are columns for the angle output. There is one row for left and one for right.
    ## For text files in a list, we use the first one to get the patient ID. 
    ## This will also check partition and drop if a data sample is in the partion.
    ## We will loop through the excel files for every patient and find the left and right angles for both patients.
    ## The image path contains all images. It will select the row patient ID and find this assoicated image.
  META_PATH: /experiments/datasets-in-use/multimodal_datasets/oai/MeasInventory.csv #/data/coml-oxmedis/datasets-in-use/multimodal_datasets/ddh/multimodal.csv
 
  ID_COL: id
  META_COLS: [P02SEX: hot] #, age(weeks): continous, Breech: hot] # FamilyHistory: hot, ClickyHip: hot, FirstBorn: hot,

MODEL: 
  OUT_CHANNELS: 6
  DEVICE: cuda

  META_FEATURES: [100,100,100]  
  NAME: 'unet_plus_plus'
  ENCODER_NAME: 'resnet34'
  ENCODER_WEIGHTS: 'imagenet'
  BATCH_NORM_DECODER: True
  DECODER_CHANNELS:
    - 1024
    - 512
    - 256
    - 128
    - 64
  IN_CHANNELS: 1
  ATTENTION: scse
  FREEZE_LAYERS: 1

DATASET:
  IMAGE_EXT: ".jpg"
  ANNOTATION_TYPE: "LANDMARKS" #SEGMENTATIONS
  NUM_LANDMARKS: 6 
  COMBINE_REVIEWERS: False 
  SIGMA: 2 #if sigma is NONE no guassian applied
  FLIP_AXIS: False
  CACHED_IMAGE_SIZE: [512,1024]
  PIXEL_SIZE: [1.0,1.0]

  AUGMENTATION:
  #all of the defined parameters allow for a range of the factors below
    ROTATION_FACTOR: 1 #affine
    INTENSITY_FACTOR: 1.0 #multiplicaiton factor
    SF: 0.1 #affine scale factor
    TRANSLATION_X: 0.1 #affine
    TRANSLATION_Y: 0.1 #affine
    SPECKLE_NOISE: 1
    COARSE_SALTANDPEPPER: 0.1 #percent of all pixels that will be dropped
    SOME_OF: 3 #if this is definied as not None, it will choose some of the augmentation instead of doing all sequentially for each image
    ##flip is also now on


OUTPUT_PATH: ./output_oai_5121024
TRAIN:
  BATCH_SIZE: 2
  LR: 0.005
  EPOCHS: 50
  LOSS: nll_across_batch
  GAMMA: 0.0

TEST:
  NETWORK: /model:1/_model_run:1_idx.pth
  TEST_TIME_AUG: False
  TEST_TIME_AUG_NUM: 5 ### will take 5 random augmentations and select the one with lowest eres?
  COMPARISON_METRICS: 
    - protractor_hka().hka_angles
  SDR_THRESHOLD: [10, 20, 40, 80]
  SDR_UNITS: pixels
  TEST_TIME_AUG: True
  
  SAVE_HEATMAPS_LANDMARKS_IMG: True
  SAVE_IMG_LANG_PREDANDTRUE: True
  SAVE_HEATMAPS_NP: True
  